wxReply
=======


wechat的功能是基于itchat的，在itchat原有功能的基础上扩展一些实用功能，为方便共享和使用特此打包到PyPI。

**安装**

.. code:: bash

    pip install wxReply==1.2.4
    or
    pip3 install wxReply==1.2.4

**功能介绍**

**消息防撤回**

    - 撤回的消息会发送给文件传输助手，包括：人物，时间，地点，事件
    - 可撤回(两分钟内)的消息存储在内存中
    - 可撤回的文件(表情，文件，视频，语言，图片等) 存储在./tmp/目录下
    - 自动清理两分钟前的消息或文件

**自动回复**

    - 好友消息自动回复

        - 总开关，控制是否启用好友消息自动回复
        - 黑名单，设置不自动回复的好友名单
        - 动态添加或移除黑名单

    - 群聊消息自动回复

        - "仅艾特": 仅回复艾特自己的消息
        - 回复每条消息并艾特消息发送者

**多开**

    - 修改cfg_name 实现多开功能(多开不是多终端)

**配置**

    +----------+----------+----------+----------+-----------------+
    |   name   |   type   |  option  |  default |      desc       |
    +==========+==========+==========+==========+=================+
    |  tl_key  |    str   | required |    ""    |      图灵key    |
    +----------+----------+----------+----------+-----------------+
    |  p_bans  |   tuple  |          |          |   好友黑名单    |
    +----------+----------+----------+----------+-----------------+
    |  g_bans  |   tuple  |          |          |   群组黑名单    |
    +----------+----------+----------+----------+-----------------+
    |  p_open  |   bool   |          |   True   |   开启自动回复  |
    +----------+----------+----------+----------+-----------------+
    |  g_open  |   bool   |          |   True   |  开启群艾特回复 |
    +----------+----------+----------+----------+-----------------+
    |  qr      |   int    |          |    2     |    二维码类型   |
    +----------+----------+----------+----------+-----------------+


**举个栗子🌰**

.. code:: python

    import wxReply
    key = "1234567890"      # 图灵机器人KEY
    wxReply.run(key)        # 运行


**备注**

图灵KEY: 传送门_.

.. _传送门: http://www.tuling123.com

itchat: 地址_.

.. _地址: https://pypi.python.org/pypi/itchat/1.3.10

**操作**

    - 手机端微信扫码登录
    - 对"文件传输助手"发送"/菜单"指令，获取帮助菜单


更新记录
========

**1.0**

    - 发布第一个版本

**1.0.10**

    - 为解决部分安卓手机无法与自己收发消息,故将指令发送对象改为"文件传输助手"

**1.2.0**

    - 增加配置文件 wxReply.cfg

        - run方法中增加参数enable_cfg默认False不启用
        - 设置为True即为启用配置
        - 配置文件中记录回复状态以及黑名单
        - 启用配置: 首次运行程序将记录run方法中其他关于状态和黑名单的配置
        - 启用配置: 非首次运行程序将将忽略run方法中的其他关于状态和黑名单的配置

**1.2.1**

    - 修复

        - 修复无法生存配置文件或配置文件为空的bug

    - 更新

        - 修改指令使用规则: 以/开头

    - 功能

        - 仅艾特: 开启群自动回复后控制是否仅回复艾特自己的消息

**1.2.2**

    - 功能

        - 新增多开功能：修改cfg_name即可

**1.2.3**

    - 更新

        - 屏蔽对公众号的自动回复

**1.2.4**

    - 修复

        - 修复"仅艾特"无法开启的BUG

**1.2.5**

    - 更新

        - 去除多余的依赖包